#!/usr/bin/env python3

from os.path import join
import numpy as np


scene_root = '/data/vision/billf/mooncam/output/xiuming/transport-mat_sh/localt210100'
out_dir = '/data/vision/billf/mooncam/output/xiuming/posterior-mean/precomp-mats'

params_h = open('./para/job.params', 'w')
expects_h = open('./para/job.expects', 'w')

for r in np.geomspace(1e-10, 1e11, num=21, endpoint=False):
    r_str = '%.0e' % r

    params_h.write('%s %s %s\n' % (scene_root, out_dir, r_str))

    expects_h.write('%s %s %s %s\n' % (
        join(out_dir, 'noise%s_AU.npy' % r_str),
        join(out_dir, 'noise%s_R.npy' % r_str),
        join(out_dir, 'noise%s_SigmaAUT.npy' % r_str),
        join(out_dir, 'noise%s_gainmat.npy' % r_str),
    ))

params_h.close()
expects_h.close()
